"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46796],{755405:function(e,n,t){t.d(n,{Z:function(){return G}});var r=t(419393),i=t(972567),a=t(898744),o=t(488455),l=t(704150),s=t(136372),d=t(644026);let u=(e,n,t,r)=>{(0,d.ZP)("action_select_checkout",{currency:t,total_orders:e,is_group_order:n,is_guest:r}),r&&(0,d.ZP)("efs_landing_signin_click",{is_guest:r})};var c=t(335900),m=t(712342),p=t(334217),v=t(826893),f=t(729171),C=t(761635),g=t(836383),x=t(248057),y=t(477074),h=t(966262),b=t(858714);let _="stable";var I=()=>{let{isStorefront:e}=(0,i.useExperience)(),n=(0,h.useDVSString)(b.P.storefrontCheckoutPrune,_);return e&&n!==_?n:""},O=t(737702);let j=e=>{window&&e&&(0,O.pC)("doordash-web-env-app-storefront-checkout",e,300)};var S=t(87983),P=t(513290),L=t(566006),w=t(438734),E=t(80291),k=e=>{var n;let{checkoutCartId:t}=e,r=(0,h.useDVSBoolean)(b.P.skipCheckoutSSRResources,!1),{consumer:i}=(0,E.R)(),a=r&&(null===(n=i.orderCart)||void 0===n?void 0:n.id)===t,o=(0,h.useDVSBoolean)(b.P.prefetchSSRCheckoutInput,!1),{loading:l,belongToAnyTeam:s}=(0,S.jP)({skip:!o||a}),{data:d,loading:u}=(0,P.z)({skip:!o||a}),c=(0,L.Hw)(d,!1),m=(0,w.IM)(d);return l||u||!o?{skipCheckoutSSRResources:a}:{skipCheckoutSSRResources:a,belongToAnyTeam:s,isCardPayment:c,isDashCard:m}},T=t(337395),A=t(263415),Z=t(327601),R=t(500057),D=t(821577),N=t(202013),F=t(420119),Y=t(510839);let B=o.default.div.withConfig({componentId:"sc-5c2c7749-0"})(["display:flex;justify-content:space-between;"]);var G=e=>{let{isDisabled:n,isGuestConsumer:t,cartId:o,storeId:d,subtotal:h,orders:b,isGroupOrder:_,currency:O,isCashTransaction:S,isOrderCartLoading:P,isConvenienceCart:L,bundleOrderCartId:w,handleDisplayPromoModal:E=()=>!1,smallButton:G=!1,trackAddItemPopoverClick:M,staticMapAddress:z,checkoutOverridePageType:V}=e,q=b.length,{isStorefront:U}=(0,i.useExperience)(),$=(0,g.I)(),{isDineIn:H,tableId:Q}=a.useContext(p.P),J=(0,x.U)(),K=I(),{shouldRedirect:X,redirectUrl:W}=(0,T.pt)({storeId:d,cartId:o,orders:b,options:{isConvenienceCart:!!L,isGroupCart:!!_}}),ee=(0,D.xk)(N.bW.CHECKOUT_BUTTON,{entityType:"none"}),en=(0,Z.bU)(),{skipCheckoutSSRResources:et,belongToAnyTeam:er,isCardPayment:ei,isDashCard:ea}=k({checkoutCartId:o}),{getLoginUrl:eo}=(0,A.Yq)(),el={order_cart_id:o,skipCheckoutSSRResources:et,belongToAnyTeam:er,isCardPayment:ei,isDashCard:ea,...J?{preview:!0}:{},...z?{lat:z.lat,lng:z.lng}:{},...V?{[Y.mV]:V}:{}};H&&(el.isDineIn=!0,el.tableId=Q);let es=(0,s.LT)(s.ZP.newStorefrontCheckout,{orderCartId:o},J?{preview:!0}:{}),ed=(0,s.LT)(s.ZP.checkout,void 0,el),eu=U?es:ed,{isMobile:ec}=(0,y.ac)(),em=S?R.ZP.t("layoutStrings_orderCart_continue"):R.ZP.t("layoutStrings_orderCart_checkoutButton"),ep=eu,ev=t&&!U&&ec,ef=eo({nextPath:eu});X?ep=W:ev?ep=ef:H?ep=eu:w&&(ep=(0,s.LT)(s.ZP.doubledash,{orderId:w},{checkout:!0}));let eC=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.Z,{onClick:e=>{let n=E();U?j(K):n&&e.preventDefault(),u(q,_,O,t),ee(e),null==M||M()},href:ep,"data-anchor-id":C.m.checkoutButton,"data-testid":C.m.checkoutButton,isDisabled:n,size:G?F.qE.small:void 0,children:(0,r.jsxs)(B,{children:[(0,r.jsx)("div",{children:em}),P&&(L||$)?(0,r.jsx)(v.g,{"data-testid":"CheckoutButtonLoading",size:f.E$.small,color:f.nm.light}):(0,r.jsx)("div",{children:(0,m.GP)({orderCartSubtotal:h,currency:O,userLocale:en})})]})})});return(0,r.jsx)(c.r,{href:ep,children:eC})}},146796:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r=t(419393),i=t(826893),a=t(385710),o=t(297279),l=t(512098),s=t(898744),d=t(488455),u=t(435917),c=t(500057),m=t(644026),p=t(421695),v=t(430141),f=t(14679),C=t(49726),g=t(1e5),x=t(872689),y=t(227500),h=t(751227),b=t(986590),_=t(974730),I=t(421438),O=t(972567),j=t(966262),S=t(858714),P=t(808959),L=()=>{let{isStorefront:e}=(0,O.useExperience)(),{isInternalLoyalty:n}=(0,P.Z)(),t=(0,j.useDVSBoolean)(S.P.sfOrderCartV2,!1);return e&&t&&!n};let w=(0,l.default)(()=>t.e(42718).then(t.bind(t,942718)),{loadableGenerated:{webpack:()=>[942718]},ssr:!1}),E=(0,l.default)(()=>t.e(7974).then(t.bind(t,507974)),{loadableGenerated:{webpack:()=>[507974]},ssr:!1}),k=(0,l.default)(()=>Promise.all([t.e(6400),t.e(49200),t.e(46785),t.e(64838),t.e(82255),t.e(96961),t.e(57701),t.e(44606),t.e(2968),t.e(18312),t.e(32710),t.e(57116),t.e(65735),t.e(28930),t.e(77887),t.e(10133),t.e(52016)]).then(t.bind(t,812205)),{loadableGenerated:{webpack:()=>[812205]},ssr:!1}),T=(0,l.default)(()=>Promise.all([t.e(57701),t.e(18312),t.e(57116),t.e(65735),t.e(77887),t.e(16725)]).then(t.bind(t,748268)),{loadableGenerated:{webpack:()=>[748268]},ssr:!1}),A=(0,l.default)(()=>Promise.all([t.e(6400),t.e(49200),t.e(46785),t.e(64838),t.e(82255),t.e(96961),t.e(57701),t.e(44606),t.e(2968),t.e(18312),t.e(32710),t.e(57116),t.e(65735),t.e(28930),t.e(77887),t.e(10133),t.e(77285),t.e(5614)]).then(t.bind(t,677285)),{loadableGenerated:{webpack:()=>[677285]},ssr:!1}),Z=(0,l.default)(()=>Promise.all([t.e(1054),t.e(11900),t.e(46785),t.e(13459),t.e(55781),t.e(10061),t.e(18312),t.e(57116),t.e(95435)]).then(t.bind(t,908618)),{loadableGenerated:{webpack:()=>[908618]},ssr:!1}),R=d.default.div.withConfig({componentId:"sc-c625e28e-0"})(["padding:",";"],a.Q2.usage.space.legacyMedium);var D=(0,C.gG)(o.zH(e=>{var n,t,a,o,l,d;let{orderCart:f,consumer:j,onOpenModalComplete:S,onCloseModalComplete:P}=e,D=L(),{isStorefront:N}=(0,O.useExperience)(),F=!f&&N,Y=!!j.id&&(F||!!f&&f.hasError),B=(0,p.qr)(e=>e.pageType),{listDetailedCartsRes:{loading:G,data:M},shouldShowOpenCarts:z}=(0,b.r)(),V=null==M?void 0:M.listDetailedCarts,{isDsdPostCheckoutCartEnabled:q,postCheckoutCart:U}=(0,I.T)(),{isLoading:$,isPersistentCartEnabled:H}=s.useContext(_.O);H&&(Y=!!(null==f?void 0:f.hasError));let Q=null!==(t=null==f?void 0:f.orders)&&void 0!==t?t:[],J=(0,u.v)(Q),{track:K}=(0,m.Sl)(),{trackLoadSuccess:X,trackLoadFailure:W}=(0,C.sH)(),ee=!Y&&!!f&&J>0,en=z&&(null!==(a=null==V?void 0:null===(n=V.detailedCarts)||void 0===n?void 0:n.length)&&void 0!==a?a:0)>1;return $||G?(0,r.jsx)(R,{"data-testid":h.D.CartSidebarLoading,children:(0,r.jsx)(i.g,{})}):q&&U?(0,r.jsx)(Z,{orderCart:U,cartUuid:null!==(o=null==U?void 0:U.id)&&void 0!==o?o:""}):z?(X(K),(0,r.jsx)(A,{orderCart:f,consumer:j,maxOpenCartsLimitReached:!!(null==V?void 0:V.maxOpenCartsLimitReached),detailedCarts:null!==(l=null==V?void 0:V.detailedCarts)&&void 0!==l?l:[]})):ee?(X(K),D)?(0,r.jsx)(T,{consumer:j,orderCart:f,onOpenModalComplete:S,onCloseModalComplete:P}):(0,r.jsx)(k,{consumer:j,orderCart:f,hasOpenCarts:en,onOpenModalComplete:S,onCloseModalComplete:P}):Y?(W(K,{[g.rI.internal_message]:c.ZP.t("layoutStrings_orderCart_messages_errorCart_title"),[g.rI.consumer_id]:null!==(d=j.id)&&void 0!==d?d:"",[g.rI.severity_level]:g.aB.error}),(0,r.jsx)(E,{})):B&&(0,v.NQ)(B)?(X(K),(0,r.jsx)(w,{emptyCartGraphic:(0,r.jsx)(y.Z,{})})):(X(K),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w,{}),(0,r.jsx)(x.Z,{consumer:j,orderCart:f,isFixed:!0})]}))},{name:"OrderCartLoader"}),{name:f.KG.ORDER_CART_PAGE})},191273:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(836383),i=t(475193),a=t(847881),o=t(11351),l=t(755928),s=t(389186),d=t(34221),u=t(206410),c=t(234937);function m(){let e=(0,a._)(["\n  query detailedCartItems(\n    $orderCartId: ID!\n    $corporateIndividualOrdersEnabled: Boolean\n    $deliveryOptionType: DeliveryOptionType\n    $isCardPayment: Boolean\n  ) {\n    orderCart(\n      id: $orderCartId\n      corporateIndividualOrdersEnabled: $corporateIndividualOrdersEnabled\n      deliveryOptionType: $deliveryOptionType\n      isCardPayment: $isCardPayment\n    ) {\n      id\n      ...InvalidItemsFragment\n      subtotal\n      orders {\n        id\n        consumer {\n          id\n          firstName\n          lastName\n          localizedNames {\n            informalName\n            formalName\n            formalNameAbbreviated\n          }\n        }\n        isSubCartFinalized\n        paymentCard {\n          id\n          stripeId\n        }\n        paymentLineItems {\n          subtotal\n          taxAmount\n          subtotalTaxAmount\n          feesTaxAmount\n          serviceFee\n        }\n        orderItems {\n          id\n          options {\n            id\n            name\n            quantity\n            price\n            nestedOptions\n          }\n          nestedOptions\n          specialInstructions\n          substitutionPreference\n          quantity\n          singlePrice\n          priceOfTotalQuantity\n          nonDiscountPriceDisplayString\n          priceDisplayString\n          continuousQuantity\n          unit\n          purchaseType\n          estimatedPricingDescription\n          increment {\n            decimalPlaces\n            unitAmount\n          }\n          discounts {\n            ...OrderItemDiscountFragment\n          }\n          item {\n            id\n            imageUrl\n            name\n            price\n            minAgeRequirement\n            category {\n              title\n            }\n            extras {\n              id\n              title\n              description\n            }\n          }\n          bundleStore {\n            id\n            name\n            isPrimary\n          }\n          giftInfo {\n            ...CartItemGiftInfoFragment\n          }\n          badges {\n            ...BadgeFragment\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return m=function(){return e},e}let p=(0,l.gql)(m(),s.j,d.nq,u.z,c.Gd);var v=(e,n)=>(0,o.a)(p,{variables:{orderCartId:e,includeCompanyPaymentInfo:!1},...n}),f=e=>{var n;let t=(0,i.t)(e),a=null!==(n=null==e?void 0:e.orders)&&void 0!==n?n:[],o=(0,r.I)(),{loading:l}=v((null==e?void 0:e.id)||"",{notifyOnNetworkStatusChange:!0,skip:0===a.length||!e||!e.isConvenienceCart&&!o&&!t});return{isOrderCartLoading:l}}},227500:function(e,n,t){var r=t(419393);t(898744),n.Z=()=>(0,r.jsx)("img",{src:"https://img.cdn4dd.com/s/managed/retail/web/empty-retail-cart.png",alt:"empty retail cart"})},751227:function(e,n,t){var r,i;t.d(n,{D:function(){return r}}),(i=r||(r={})).OpenCartBadgeTag="OpenCartBadgeTag",i.OpenCartBadgeTitle="OpenCartBadgeTitle",i.OpenCartDelete="OpenCartDelete",i.OpenCartDeleteConfirmation="OpenCartDeleteConfirmation",i.OpenCartItemImage="OpenCartItemImage",i.StoreInfoImage="StoreInfoImage",i.CartSidebarLoading="CartSidebarLoading",i.OpenCartsComponent="OpenCartsComponent",i.OpenCartListsContainer="OpenCartListsContainer"},986590:function(e,n,t){t.d(n,{r:function(){return a}});var r=t(347948),i=t(397674);let a=()=>{let{shouldShowOpenCarts:e}=(0,r.S)();return{listDetailedCartsRes:(0,i.Q)({input:{}},{skip:!e}),shouldShowOpenCarts:e}}},566006:function(e,n,t){t.d(n,{Ft:function(){return i},Hw:function(){return o},b:function(){return a}});var r=t(905242);let i=e=>null!=e&&e.type===r.Oh.PAYPAL,a=e=>(null==e?void 0:e.type)===r.Oh.VENMO,o=(e,n)=>!(n||null===e||i(e)||a(e))},836383:function(e,n,t){t.d(n,{I:function(){return i}});var r=t(98825);let i=()=>{let e=(0,r.p)();return(null==e?void 0:e.isBundle)||!1}},199400:function(e,n,t){t.d(n,{x:function(){return d}});var r=t(419393);t(898744);var i=t(217151),a=t(637442),o=t(337534),l=t(332959);let s=(0,t(488455).default)(l.Z).withConfig({componentId:"sc-347fb752-0"})(["display:flex;align-items:center;"]),d=e=>{var n;let{textProps:t,iconProps:l,calloutText:d,inlineChildrenProps:u}=e;return(0,r.jsxs)(s,{...u,size:null!==(n=null==u?void 0:u.size)&&void 0!==n?n:i.O8.none,children:[(0,r.jsx)(a.Z,{...l}),(0,r.jsx)(o.x,{...t,children:d})]})}},865672:function(e,n,t){var r=t(419393),i=t(78999),a=t.n(i),o=t(898744),l=t(500057);n.Z=e=>{let{translationKey:n,translationVariables:t,components:i}=e,s=o.useMemo(()=>({i18nextInstance:l.ZP.instance}),[]);return(0,r.jsx)(a(),{i18n:s,i18nKey:n,values:t,components:i})}},872689:function(e,n,t){t.d(n,{Z:function(){return W}});var r=t(419393),i=t(950736),a=t(898744),o=t(755405),l=t(45221),s=t(191273),d=t(390279),u=t(788571),c=t(477074),m=t(306809),p=t(327601),v=t(439758),f=t(377814),C=t(332959),g=t(871079),x=t(217151),y=t(337534),h=t(237879),b=t(19269),_=t(54394),I=t(413165),O=t(765770),j=t(185985),S=t(488455),P=t(290199),L=t(385710),w=t(637442),E=t(575465),k=t(157890),T=t(991311);let A=(0,S.keyframes)(["from{transform:translateY(100%);}to{transform:translateY(0);}"]),Z=(0,S.default)(P.Z).attrs({size:x.wM.medium,isSquished:!0}).withConfig({componentId:"sc-dedc5079-0"})(["position:",";bottom:0;left:0;width:100%;z-index:100;height:","px;background-color:",";&:hover{cursor:pointer;}animation:"," 0.25s ease-out;&.slide-exit{animation:"," 0.25s ease-out reverse;}&.slide-exit-active{transform:translateY(100%);opacity:0;transition:transform 0.25s ease-out,opacity 0.25s ease-out;}&:after{content:'';position:absolute;top:0;border-top:3px solid ",";left:0;width:",";}"],e=>"".concat(e.isFixed?"fixed":"relative"),40,L.Q2.usage.color.negative.subdued.default,A,A,L.Q2.usage.color.action.primary.default,e=>"".concat(e.progress,"%")),R=(0,S.default)(w.Z).attrs(()=>({size:E.J.medium,type:k.IconType.RewardLine,color:k.EY.action.primary.default,accessibilityLabel:"Loyalty Reward Footer Icon"})).withConfig({componentId:"sc-dedc5079-1"})([""]),D=(0,S.default)(w.Z).attrs(()=>({size:E.J.medium,type:k.IconType.ChevronRight,color:k.EY.text.default,accessibilityLabel:"Loyalty Program Detail"})).withConfig({componentId:"sc-dedc5079-2"})([""]),N=(0,S.default)(C.Z).attrs(()=>({size:x.O8.xSmall,alignItems:g.v2.center})).withConfig({componentId:"sc-dedc5079-3"})(["max-width:95%;@media (min-width:","px){width:inherit;margin:0 auto;}"],T.u3.tablet),F=e=>{let n=e.current;return n?n.clientHeight:0};var Y=t(80291),B=t(865672),G=t(188095),M=t(764991),z=t(537750),V=t(768274),q=t(31785);q.V,q.m.EXTERNAL_LOYALTY_PROMO,q.V,q.m.EXTERNAL_LOYALTY_SIGN_IN;let U=e=>e&&e.__typename&&e.__typename===q.V&&e.banner.__typename===q.m.EXTERNAL_LOYALTY_SIGN_IN,$=e=>e&&e.__typename&&e.__typename===q.V&&e.banner.__typename===q.m.EXTERNAL_LOYALTY_REWARD;var H=t(262189),Q=t(939468),J=t(495842),K=t(953604),X=function(e){var n,t,i,o;let{preventsRender:l,stickyFooterInfo:s,isFixed:c=!0}=e,{dispatch:m}=(0,O.V)(),{consumer:{orderCart:p,isGuest:S}}=(0,Y.R)(),P=(0,u.Z)(),L=!P||S,w=a.useRef(null),E=!l&&!!s,k=F(w),[T,A]=a.useState(!1),{storeInformation:q}=a.useContext(z.ZP),X=(0,K.f)(),W=(0,M.Z)(),[ee,en]=a.useState(!1),[et,er]=a.useState(!1),[ei,ea]=a.useState("number"==typeof(null==p?void 0:p.subtotal)?(0,f.JF)(p.subtotal):v.wS.EMPTY),eo=(0,f.j8)(),el=null!==(t=null==p?void 0:p.subtotal)&&void 0!==t?t:0,{discountAmountString:es,minOrderAmountString:ed,remainingAmountString:eu}=(0,f.gV)({minOrderAmount:v.Ns,discountAmount:v.SR,orderCartSubtotal:el,formattingOptions:eo}),ec=Math.min(el/v.Ns*100,100),em=E?k-12:0;a.useEffect(()=>{m&&m({type:j.r.StickyFooter,data:{isShown:E,margin:{heightAdjustment:em}}})},[m,em,E]),a.useEffect(()=>{ea("number"==typeof(null==p?void 0:p.subtotal)?(0,f.JF)(p.subtotal):v.wS.EMPTY)},[null==p?void 0:p.subtotal]);let{translationKey:ep,translationVariables:ev}=(0,f.nv)(S),ef=P?(0,r.jsx)(B.Z,{translationKey:(null==s?void 0:s.translationKey)||ep,translationVariables:(null==s?void 0:s.translationKey)?{discountAmount:es,minOrderAmount:ed,remainingAmount:eu}:ev,components:[(0,r.jsx)("strong",{}),(0,r.jsx)("strong",{})]}):null==s?void 0:s.message,eC=!S&&!!(null==s?void 0:null===(n=s.activeBanner)||void 0===n?void 0:n.banner)||S;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.x,{isOpen:T&&!!U(null==s?void 0:s.activeBanner),storeInformation:q,setShowInfoModal:A}),(null==s?void 0:s.modal)&&(0,r.jsx)(V.g,{isOpen:T&&!!$(null==s?void 0:s.activeBanner),onClose:()=>A(!1),modal:s.modal}),et&&(W?(0,r.jsx)(H.default,{onClose:()=>er(!1)}):(0,r.jsx)(Q.Z,{onClose:()=>er(!1),setShowSignUp:()=>{X("track_click_storefront_sign_up_sticky_footer"),er(!1),en(!0)}})),ee&&(0,r.jsx)(J.Z,{currencyCode:null!==(i=null==p?void 0:p.currencyCode)&&void 0!==i?i:d.E,businessId:null!==(o=null==q?void 0:q.businessId)&&void 0!==o?o:"",setShowSignIn:er,onClose:()=>en(!1)}),eC&&(0,r.jsx)(_.Z,{in:E,classNames:"slide",timeout:250,unmountOnExit:!0,children:(0,r.jsx)(Z,{"data-testid":"sf-sticky-footer",ref:w,onClick:()=>{var e,n;P&&S?(en(!1),er(!0)):A(!0),X("sf_store_page_click_sticky_footer_banner",{banner_type:null==s?void 0:null===(n=s.activeBanner)||void 0===n?void 0:null===(e=n.banner)||void 0===e?void 0:e.__typename,banner_details:JSON.stringify(s)})},progress:ec<100?ec:0,isFixed:c,children:(0,r.jsxs)(C.Z,{justifyContent:g.dy.spaceBetween,size:x.O8.none,alignItems:g.v2.center,children:[(0,r.jsxs)(N,{children:[!P&&(0,r.jsx)(R,{}),P&&ei===v.wS.FULL&&(0,r.jsx)(G.IR,{children:(0,r.jsx)(G.qH,{})}),(0,r.jsx)(y.x,{overflow:h.lG.truncate,textStyle:b.pn.body.small.default,maxLines:1,children:ef})]}),L&&(0,r.jsx)(D,{})]})})})]})},W=e=>{var n,t,C,g,x,y,h,b,_,I;let{consumer:O,orderCart:j,isFixed:S,CheckoutButtonWrapper:P=a.Fragment}=e,{isOrderCartLoading:L}=(0,s.Z)(j),w=null!==(b=null==j?void 0:j.orders)&&void 0!==b?b:[],E=(null==j?void 0:null===(n=j.restaurant)||void 0===n?void 0:n.id)||"",{storeInformation:k}=a.useContext(z.ZP),T=(null==j?void 0:j.currencyCode)||d.E,A=null!==(_=null==j?void 0:j.subtotal)&&void 0!==_?_:0,Z=(0,p.bU)(),{isMobile:R}=(0,c.ac)(),D=(0,u.Z)(),{data:N}=(0,i.a)(m.uw,{variables:{storeId:E,locale:Z}}),[F,Y]=a.useState("number"==typeof(null==O?void 0:null===(t=O.orderCart)||void 0===t?void 0:t.subtotal)?(0,f.JF)(null==O?void 0:O.orderCart.subtotal):v.wS.EMPTY),B=!O.isGuest,G=null==N?void 0:N.consumerAllCmsDetails.find(e=>{var n,t;return null==e?void 0:null===(t=e.banner)||void 0===t?void 0:null===(n=t.contentIdentifier)||void 0===n?void 0:n.includes(v.f$)}),M=(null==j?void 0:j.isConsumerPickup)||!1,V=null!==(I=null==j?void 0:null===(x=j.orders)||void 0===x?void 0:null===(g=x[0])||void 0===g?void 0:null===(C=g.orderItems)||void 0===C?void 0:C.length)&&void 0!==I?I:0,q=null==O?void 0:O.defaultAddress,U=(0,l.H)(M,null==j?void 0:null===(y=j.restaurant)||void 0===y?void 0:y.address,q),$=(0,f.pW)({userIsLoggedIn:B,firstTimeUserPromoBanner:G,promoApplyStatus:F}),[H,Q]=a.useState(D?$:void 0);return a.useEffect(()=>{D&&Q((0,f.pW)({userIsLoggedIn:B,firstTimeUserPromoBanner:G,promoApplyStatus:F}))},[G,R,D,F,B]),a.useEffect(()=>{var e;Y("number"==typeof(null==O?void 0:null===(e=O.orderCart)||void 0===e?void 0:e.subtotal)?(0,f.JF)(null==O?void 0:O.orderCart.subtotal):v.wS.EMPTY)},[null==O?void 0:null===(h=O.orderCart)||void 0===h?void 0:h.subtotal]),(0,r.jsxs)(r.Fragment,{children:[D&&(0,r.jsx)(X,{preventsRender:!1,stickyFooterInfo:H,isFixed:S}),j&&V>0&&(0,r.jsx)(P,{children:(0,r.jsx)(o.Z,{isDisabled:!1,handleDisplayPromoModal:()=>!1,cartId:j.id,storeId:E,orders:w,isGuestConsumer:O.isGuest,isGroupOrder:!1,subtotal:A,isCashTransaction:k.isCashTransaction,currency:T,isOrderCartLoading:L,isConvenienceCart:!1,staticMapAddress:U})})]})}},768274:function(e,n,t){t.d(n,{g:function(){return p}});var r=t(419393);t(898744);var i=t(305470),a=t(199400),o=t(439467),l=t(217151),s=t(337534),d=t(19269),u=t(488455),c=t(385710);let m=u.default.div.withConfig({componentId:"sc-a6c22765-0"})(["padding:0px "," ",";"],c.Q2.usage.space.medium,c.Q2.usage.space.large),p=e=>{var n,t,u;let{onClose:c,modal:p,isOpen:v}=e;return(0,r.jsx)(i.Z,{isOpen:v,"data-testid":"sf-menu-banner-modal",onClose:c,title:null!==(n=null==p?void 0:p.description)&&void 0!==n?n:"",subtitle:null!==(t=null==p?void 0:p.label)&&void 0!==t?t:"",isFullScreenOnMobile:!1,primaryAction:{text:null!==(u=null==p?void 0:p.primaryActionText)&&void 0!==u?u:"",onClick:c},renderContentHeader:e=>{let{title:n,subtitle:t}=e;return(0,r.jsx)(m,{children:(0,r.jsxs)(o.Z,{size:l.Uo.xSmall,children:[(null==p?void 0:p.leadingCalloutProps)&&(0,r.jsx)(a.x,{...null==p?void 0:p.leadingCalloutProps,iconProps:{...p.leadingCalloutProps.iconProps}}),(0,r.jsx)(s.x,{textStyle:d.pn.display.medium,children:n}),(0,r.jsx)(s.x,{children:t})]})})}})}},31785:function(e,n,t){var r,i;t.d(n,{V:function(){return a},m:function(){return r}}),(i=r||(r={})).EXTERNAL_LOYALTY_SIGN_IN="externalLoyaltySignIn",i.EXTERNAL_LOYALTY_PROMO="externalLoyaltyPromo",i.EXTERNAL_LOYALTY_REWARD="externalLoyaltyReward";let a="ExternalLoyaltyMenuBannerDetails"}}]);
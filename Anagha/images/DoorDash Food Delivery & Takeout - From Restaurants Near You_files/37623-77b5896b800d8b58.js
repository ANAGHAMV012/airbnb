"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37623,46791],{981798:function(e,n,t){var i=t(419393),r=t(153361),o=t(783889);t(898744);var a=t(477074);let l=e=>{let{isAddressLabelEnabled:n,shouldShowCurrentLocationIcon:t,hasNoDefaultAddressShortname:i,addressLabelIcon:r}=e;return!n||t?void 0:i?o.Icon.Types.Add:n?r:void 0};n.Z=e=>{let{accessabilityString:n,label:t,aria:c,onClick:d,shouldShowCurrentLocationIcon:s,isAddressLabelEnabled:u,hasNoDefaultAddressShortname:f,addressLabelIcon:p,hideChevronIcon:g=!1,shouldUseV2:h}=e,{isMobile:m}=(0,a.ac)(),x=h?r.default.Padding.Default:void 0,v=(null!=x?x:m)?r.default.Padding.Default:r.default.Padding.None;return(0,i.jsx)(r.default,{accessibilityDescribedBy:n,"aria-controls":c,"aria-haspopup":"true",isInline:!0,onClick:d,padding:v,type:h?r.default.Types.Tertiary:r.default.Types.FlatPrimary,leadingIcon:l({isAddressLabelEnabled:u,shouldShowCurrentLocationIcon:s,hasNoDefaultAddressShortname:f,addressLabelIcon:p}),trailingIcon:u&&!g?o.Icon.Types.ChevronDown:void 0,size:u?r.default.Sizes.Small:void 0,children:(0,i.jsxs)(o.InlineChildren,{size:s&&u?o.InlineChildren.Sizes.XxxSmall:o.InlineChildren.Sizes.None,children:[s&&u&&(0,i.jsx)(o.Icon,{type:o.Icon.Types.LocationPointerFill,size:20,color:o.Icon.Colors.CurrentColor}),(0,i.jsxs)(o.InlineChildren,{size:o.InlineChildren.Sizes.None,alignItems:o.InlineChildren.Alignment.Center,children:[(0,i.jsx)(o.Text,{styles:o.Text.Styles.ButtonSmallTitle,overflow:o.Text.Overflows.Truncate,children:t}),!u&&!g&&(0,i.jsx)(o.Icon,{type:o.Icon.Types.ChevronDown,size:o.Icon.Sizes.Small,color:o.Icon.Colors.CurrentColor,"data-testid":"AddressTextButtonChevronIcon"})]})]})})}},708446:function(e,n,t){t.d(n,{Cs:function(){return w},MN:function(){return m},O:function(){return I},P4:function(){return s},Q_:function(){return u},Qd:function(){return x},S3:function(){return v},UB:function(){return P},aq:function(){return R},d_:function(){return b},eA:function(){return S},fC:function(){return f},h3:function(){return g},is:function(){return h},jl:function(){return _},kw:function(){return C},mf:function(){return E},qO:function(){return G},rQ:function(){return T},sH:function(){return A},uy:function(){return D},v$:function(){return p},vh:function(){return k},xU:function(){return y},yr:function(){return N}});var i=t(783889),r=t(488455),o=t(352995),a=t(35367),l=t(844410),c=t(683183),d=t(475132);let s=r.default.div.withConfig({componentId:"sc-e98b8f07-0"})(["max-width:220px;display:flex;align-items:center;"]),u=r.default.span.withConfig({componentId:"sc-e98b8f07-1"})(["display:inline-flex;transform:scale(1.5);transform-origin:center;margin-right:","px;"],i.Spacing.XSmall);(0,r.default)(i.Text).attrs(()=>({styles:i.Text.Styles.Regular14})).withConfig({componentId:"sc-e98b8f07-2"})(["margin:0 ","px;"],i.Spacing.XxSmall);let f=r.default.header.withConfig({componentId:"sc-e98b8f07-3"})(["position:relative;z-index:",";padding-top:","px;"],o.Lh,e=>{let{hasPaddingTop:n=!0}=e;return n?o.Mz:i.Spacing.None}),p=r.default.header.withConfig({componentId:"sc-e98b8f07-4"})(["position:sticky;top:0;z-index:",";background-color:",";width:100%;"],o.Lh,i.Colors.PageBackgroundPrimary),g=r.default.div.withConfig({componentId:"sc-e98b8f07-5"})(["position:fixed;z-index:",";top:0;left:0;height:","px;width:100vw;display:flex;align-items:center;"," background-color:",";border-bottom:1px solid ",";"],o.sQ,o.Mz,e=>{let{shouldUseV2:n=!1}=e;return!n&&"justify-content: space-between;"},i.Colors.PageBackgroundPrimary,i.Colors.BorderPrimary),h=r.default.div.withConfig({componentId:"sc-e98b8f07-6"})(["z-index:",";top:","px;left:0;width:100%;height:","px;display:flex;align-items:center;justify-content:center;background-color:",";border-bottom:1px solid ",";",";",""],o.sQ,o.Mz,o.R7,i.Colors.PageBackgroundPrimary,i.Colors.BorderPrimary,e=>{let{isSideNavEnabled:n,isSideNavCompact:t}=e;return n&&(0,a.t$)({isCompact:t})},e=>{let{useFixedPosition:n}=e;return n&&"position: fixed;"}),m=r.default.div.withConfig({componentId:"sc-e98b8f07-7"})(["flex:1;display:flex;justify-content:center;position:relative;right:0;left:0;margin:",";",""],e=>{let{isMobile:n}=e;return n?"auto ".concat(i.Spacing.Small,"px auto ").concat(i.Spacing.XxxxSmall,"px!important"):"auto ".concat(i.Spacing.Large,"px auto ").concat(i.Spacing.None)},e=>!e.isMobile&&(0,r.css)(["background:linear-gradient( 90deg,rgb(255,255,255,0) 0%,rgb(255,255,255,1) 5%,rgb(255,255,255,1) 50%,rgb(255,255,255,1) 95%,rgb(255,255,255,0) 100% );"])),x=r.default.div.withConfig({componentId:"sc-e98b8f07-8"})(["display:flex;justify-content:center;align-items:center;margin-left:","px !important;"],e=>e.noMarginLeft?i.Spacing.None:i.Spacing.Small),v=(0,r.default)(i.InlineChildren).attrs(()=>({justifyContent:i.InlineChildren.Justification.Center,alignItems:i.InlineChildren.Alignment.Center,size:i.InlineChildren.Sizes.XxSmall})).withConfig({componentId:"sc-e98b8f07-9"})([""]),_=(0,r.default)(v).withConfig({componentId:"sc-e98b8f07-10"})(["margin-left:",";@media screen and (min-width:","px){margin-left:","px;}"],i.Spacing.None,i.Breakpoints.WideScreen,i.Spacing.XxxLarge),C=(0,r.default)(v).withConfig({componentId:"sc-e98b8f07-11"})(["justify-content:flex-end !important;align-items:center;margin-right:",";width:100%;@media screen and (min-width:","px){margin-right:","px;}"],i.Spacing.None,i.Breakpoints.WideScreen,e=>{let{noMarginRight:n}=e;return n?0:104}),S=(0,r.default)(v).withConfig({componentId:"sc-e98b8f07-12"})(["justify-content:center;",""],e=>{let{isSideNavCompact:n}=e;return"\n    @media screen and (min-width: ".concat(i.Breakpoints.Tablet,"px) {\n      min-width: ").concat(c.BM.SIDE_NAV_COMPACT,"px;\n    }\n    @media screen and (min-width: ").concat(i.Breakpoints.Desktop,"px) {\n      min-width: ").concat(n?c.BM.SIDE_NAV_COMPACT:c.BM.SIDE_NAV_STANDARD,"px;\n  }")}),I=(0,r.default)(v).withConfig({componentId:"sc-e98b8f07-13"})(["width:100%;"," max-width:","px;gap:","px;padding-right:","px;"],e=>{let{alignRight:n=!1}=e;return n?"justify-content: flex-end !important;":"margin: 0 auto;"},e=>{let{$useWideScreenMaxWidth:n}=e;return n?d._F:l.WJ},i.Spacing.XxxxSmall,i.Spacing.Small),y=r.default.div.withConfig({componentId:"sc-e98b8f07-14"})(["max-height:80vh;width:","px;"],400),b=r.default.div.withConfig({componentId:"sc-e98b8f07-15"})(["padding-left:","px;display:flex;"],i.Spacing.XxSmall),w=r.default.div.withConfig({componentId:"sc-e98b8f07-16"})(["display:flex;justify-content:center;align-items:center;& > * + *{margin-left:",";}"],e=>{let{shouldUseV2:n=!1}=e;return n?"".concat(i.Spacing.XxxSmall,"px;"):"".concat(i.Spacing.XSmall,"px;")}),P=r.default.div.withConfig({componentId:"sc-e98b8f07-17"})([""," position:absolute;height:","px;width:","px;background-color:",";border-radius:50%;text-align:center;padding-top:1px;"],e=>{let{shouldUseV2:n=!1}=e;return n?"\n        top: -".concat(i.Spacing.XxxSmall,"px;\n        right: 0px;\n        "):"\n        top: 1px;\n        right: ".concat(i.Spacing.XxxxSmall,"px;\n      ")},i.Spacing.Small,i.Spacing.Small,i.Colors.TextAccentedPrimary),k=r.default.div.attrs(()=>({role:"button"})).withConfig({componentId:"sc-e98b8f07-18"})(["position:relative;"," &:hover{cursor:pointer;}"],e=>{let{noRightMargin:n}=e;return!n&&"margin-right: ".concat(i.Spacing.Small,"px;")}),N=r.default.div.withConfig({componentId:"sc-e98b8f07-19"})([""," margin-right:0px;&:last-child{margin-right:",";}"],e=>{let{noLeftMargin:n=!0}=e;return n&&"margin-left: 0 !important;"},e=>{let{isMobileTablet:n,noRightMargin:t}=e;return"".concat(t?0:n?i.Spacing.Small:2*i.Spacing.Medium,"px")}),E=r.default.div.withConfig({componentId:"sc-e98b8f07-20"})(["display:flex;flex-wrap:nowrap;",""],e=>{let{isCaviar:n,shouldUseV2:t}=e;return t?"\n    > a:first-child {\n      background-color: ".concat(i.Colors.ButtonTertiaryBackground,";\n      min-height: ").concat(i.Spacing.XLarge,"px;\n    }\n    > a:last-child {\n      background-color: ").concat(i.Colors.ButtonPrimaryBackground,";\n      min-height: ").concat(i.Spacing.XLarge,"px;\n      margin-left: 8px;\n    }"):"\n    > a:last-child {\n      background-color: ".concat(n?i.Colors.SystemWhite:i.Colors.SystemGrey10,";\n      min-height: ").concat(i.Spacing.XLarge,"px;\n    }\n      margin-right: ").concat(2*i.Spacing.Medium,"px;\n      align-items: center;\n  ")}),T=r.default.div.withConfig({componentId:"sc-e98b8f07-21"})(["padding:0 ","px;display:flex;justify-content:center;align-items:center;cursor:pointer;"],i.Spacing.XxSmall-i.Spacing.XxxxSmall),A=r.default.div.withConfig({componentId:"sc-e98b8f07-22"})(["width:0;height:","px;border:1px solid ",";border-radius:2px;"],i.Spacing.Large,i.Colors.BorderPrimary),R=r.default.div.withConfig({componentId:"sc-e98b8f07-23"})(["position:relative;display:flex;align-items:center;height:100%;margin-left:","px!important;"],i.Spacing.XxxSmall);r.default.div.withConfig({componentId:"sc-e98b8f07-24"})(["align-items:center;cursor:pointer;display:flex;height:100%;padding:","px ","px;margin-right:","px;&:after{content:'';position:absolute;width:100%;height:","px;background-color:transparent;left:0;bottom:-","px;border-top-left-radius:","px;border-top-right-radius:","px;}"],i.Spacing.XSmall,i.Spacing.XxSmall,i.Spacing.XSmall,i.Spacing.XxxSmall,i.Spacing.XxxSmall,i.Spacing.XxxSmall,i.Spacing.XxxSmall);let G=r.default.div.withConfig({componentId:"sc-e98b8f07-25"})(["position:relative;display:inline-flex;"]);(0,i.withTheming)(r.default.div.withConfig({componentId:"sc-e98b8f07-26"})(["align-items:center;cursor:default;display:flex;height:100%;padding:0 ","px;margin-right:","px;position:relative;&:after{content:'';position:absolute;width:100%;height:","px;background-color:",";left:0;bottom:-","px;border-top-left-radius:","px;border-top-right-radius:","px;}"],i.Spacing.XxSmall,i.Spacing.XSmall,i.Spacing.XxxSmall,e=>{let{theme:n}=e;return n.Colors.TextSelected},i.Spacing.XxxSmall,i.Spacing.XxxSmall,i.Spacing.XxxSmall)),(0,r.default)(i.Text).attrs(()=>({styles:i.Text.Styles.Medium16})).withConfig({componentId:"sc-e98b8f07-27"})(["overflow:hidden;text-align:center;text-overflow:ellipsis;width:100%;white-space:nowrap;"]),(0,r.default)(i.Text).attrs(()=>({styles:i.Text.Styles.Bold16})).withConfig({componentId:"sc-e98b8f07-28"})(["overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap;width:100%;display:flex;min-height:40px;justify-content:center;align-items:center;"]);let D=r.default.div.withConfig({componentId:"sc-e98b8f07-29"})(["position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;"])},780005:function(e,n,t){t.r(n);var i=t(419393),r=t(445219),o=t(898744),a=t(644026),l=t(306487),c=t(154113),d=t(864398),s=t(932888),u=t(728844),f=t(474689),p=t(761635),g=t(755365),h=t(132657),m=t(981798),x=t(708446),v=t(435917),_=t(197888),C=t(98825);n.default=e=>{var n,t,S,I;let{consumer:y,refetchQueries:b,refetchQueriesOnAddressUpdate:w,addressText:P,onAddressChange:k,isCurrentLocationEnabled:N=!1,isCurrentLocationSelected:E=!1,onClickCurrentLocation:T,shouldShowInfoPickerTooltip:A,onClickAddress:R}=e,[G,D]=o.useState(!1),{showSignInSignUpModal:M,setShowSignInSignUpModal:L,onIdentityLinkClick:O}=(0,u.Z)(),j=(0,l.F)(),{isAddressLabelEnabled:X}=(0,f.Z)(),F=(0,C.p)(),Z=o.useCallback(e=>{D(!1),null==k||k(e)},[k]),B=(0,h.F)((null==F?void 0:F.id)||"",Z);return j?M?(0,i.jsx)(s.Z,{setShowSignInSignUpModal:L,onClose:()=>L(!1)}):(0,i.jsxs)(x.Qd,{noMarginLeft:!y.isGuest,"data-testid":p.m.infoPickerMobile,children:[(0,i.jsx)(_.p,{shouldShowInfoPickerTooltip:A,children:(0,i.jsx)(m.Z,{label:(0,v.ow)({addressTextProp:P,defaultAddress:y.defaultAddress,isAddressLabelEnabled:X}),accessabilityString:"",aria:"layout-address-picker",hideChevronIcon:X&&!(null===(n=y.defaultAddress)||void 0===n?void 0:n.shortname),onClick:()=>{var e;null==R||R(),D(!0),(0,a.ZP)("m_homepage_tap_default_address",{delivery_address_id:(null==y?void 0:null===(e=y.defaultAddress)||void 0===e?void 0:e.id)||null})},shouldShowCurrentLocationIcon:E&&X,isAddressLabelEnabled:X,hasNoDefaultAddressShortname:!(null===(t=y.defaultAddress)||void 0===t?void 0:t.shortname),addressLabelIcon:(0,c.at)(null===(I=y.defaultAddress)||void 0===I?void 0:null===(S=I.personalAddressLabel)||void 0===S?void 0:S.labelIcon,!0)})}),G&&(0,i.jsx)(i.Fragment,{children:X?(0,i.jsx)(d.Z,{addressEntryPoint:"Common/Layout/Header/InfoPickerMobile",onChange:B,customizations:{renderAutocompleteSuggestionsInAnchoredLayer:!0,hideAutoCompleteLabel:!0},refetchQueries:w||b,hasCloseButton:!0,isCurrentLocationEnabled:N,isCurrentLocationSelected:E,onClose:()=>D(!1),onClickCurrentLocation:T}):(0,i.jsx)(r.Modal,{title:"",onClose:()=>{Z()},isFooterFixedPosition:!0,children:(0,i.jsx)(g.Z,{consumer:y,handleIdentityLinkClick:O,handlePickerClose:Z,refetchQueries:w||b})})})]}):null}},755365:function(e,n,t){var i=t(419393);t(898744);var r=t(321376),o=t(132657),a=t(98825);n.Z=e=>{let{consumer:n,handlePickerClose:t,refetchQueries:l,renderBeforeAddressList:c,handleIdentityLinkClick:d,isCurrentLocationEnabled:s,isCurrentLocationSelected:u,onClickCurrentLocation:f}=e,p=(0,a.p)(),g=(null==p?void 0:p.id)||"",h=(0,o.F)(g,t);return(0,i.jsx)(r.Z,{addressEntryPoint:"Common/Layout/LayoutAddressPicker",consumer:n,onChange:h,refetchQueries:l,isStaticPositionSuggestions:!0,renderBeforeAddressList:c,handleIdentityLinkClick:d,isCurrentLocationEnabled:s,isCurrentLocationSelected:u,onClickCurrentLocation:f})}},132657:function(e,n,t){t.d(n,{F:function(){return d}});var i=t(898744),r=t(121173),o=t(205900),a=t(347948),l=t(908526),c=t(327601);let d=(e,n)=>{let t=(0,c.bU)(),d=(0,r.Z)({cartId:e}),{shouldShowOpenCarts:s}=(0,a.S)(),{isPersistentCartEnabled:u}=(0,l.N)(),f=i.useCallback(n=>u?s?n:e:n,[e,u,s]);return i.useCallback(async(e,i)=>{n(e);let r=f(i);if(r)try{await d(r)}catch(e){(0,o.gs)({giftOptions:null,message:e,entryPoint:o.JE.ADDRESS_PICKER},t)}},[n,f,d,t])}},487201:function(e,n,t){t.d(n,{E$:function(){return f},KZ:function(){return d},cj:function(){return c},tT:function(){return l}});var i=t(276929),r=t(903055),o=t(628243);let a=e=>{let n=e.recipientCountryCode||"",t=(0,i.Gg)(n),r=e.shouldDoordashTextRecipient||e.shouldDasherContactRecipient;return e.recipientPhone&&r?(0,o.pj)(t+e.recipientPhone).internationalNumber:null},l=(e,n)=>{let t=c(e,n);return{recipientPhone:a(e),recipientName:t,recipientGivenName:e.recipientGivenName,recipientFamilyName:e.recipientFamilyName,recipientEmail:e.recipientEmail,cardMessage:e.cardMessage,cardId:e.cardId,senderName:e.senderName,shouldNotifyTrackingToRecipientOnDasherAssign:e.shouldDoordashTextRecipient,shouldNotifyRecipientForDasherQuestions:e.shouldDasherContactRecipient,shouldRecipientScheduleGift:e.shouldRecipientScheduleGift||!1}},c=(e,n)=>{if(e.recipientFamilyName||e.recipientGivenName){var t,i;let o=null!==(t=e.recipientFamilyName)&&void 0!==t?t:"",a=null!==(i=e.recipientGivenName)&&void 0!==i?i:"";return(0,r.getLocalizedNames)({familyName:o,givenName:a},n).formalName}return e.recipientName},d=(e,n)=>n?s(e):{...e,...u(e.recipientPhone),recipientEmail:"",shouldDoordashTextRecipient:!!e.shouldNotifyTrackingToRecipientOnDasherAssign,shouldDasherContactRecipient:!!e.shouldNotifyRecipientForDasherQuestions},s=e=>{var n;return{...e,recipientPhone:"",recipientEmail:null!==(n=e.recipientEmail)&&void 0!==n?n:"",shouldNotifyRecipientForDasherQuestions:null,shouldNotifyTrackingToRecipientOnDasherAssign:null,shouldRecipientScheduleGift:!1,shouldDoordashTextRecipient:!1,shouldDasherContactRecipient:!1}},u=e=>{let n=i.Z8.US,t=i.RE.US;return e?(e.startsWith(i.RE.AU)&&(n=i.Z8.AU,t=i.RE.AU),{recipientCountryCode:n,recipientPhone:e.substr(t.length)}):{recipientCountryCode:n,recipientPhone:""}},f=e=>{let{giftInfo:n,orderCartCreator:t}=e,i={recipientGivenName:(null==t?void 0:t.firstName)||"",recipientFamilyName:(null==t?void 0:t.lastName)||""};return(null==n?void 0:n.recipientFamilyName)&&(null==n?void 0:n.recipientGivenName)&&(i.recipientFamilyName=n.recipientFamilyName,i.recipientGivenName=n.recipientGivenName),i}},205157:function(e,n,t){t.d(n,{$j:function(){return S},B8:function(){return T},DP:function(){return x},Ep:function(){return D},FB:function(){return A},Gq:function(){return b},IV:function(){return p},JR:function(){return v},M$:function(){return h},Ou:function(){return m},Rz:function(){return a},SJ:function(){return I},SP:function(){return G},XG:function(){return y},YU:function(){return g},cI:function(){return k},cg:function(){return N},f$:function(){return w},hs:function(){return _},ln:function(){return o},m:function(){return L},m0:function(){return P},nG:function(){return M},nK:function(){return O},qJ:function(){return C},s9:function(){return E},vy:function(){return R}});var i,r,o,a,l=t(644026),c=t(286184),d=t.n(c),s=t(487201);(i=o||(o={})).Store="store",i.Checkout="checkout",i.Address="address",(r=a||(a={})).Na="na",r.Pickup="pickup",r.GroupOrder="group order";let u=(e,n)=>({hasGiftOption:!!e,hasRecipientName:!!(0,s.cj)(e,n),hasRecipientPhone:!!e.recipientPhone,shouldDoordashTextRecipient:e.shouldDoordashTextRecipient,shouldDasherContactRecipient:e.shouldDasherContactRecipient,cardMessage:e.cardMessage,digitalCard:e.cardId}),f=e=>{var n,t;return{storeId:null!==(t=null===(n=e.restaurant)||void 0===n?void 0:n.id)&&void 0!==t?t:"",orderCartId:e.id}},p=(e,n)=>j("send_as_gift_click",{...f(e),isMerchantShipping:!!e.isMerchantShipping,clickFrom:n}),g=e=>j("send_as_gift_modal_load ",f(e)),h=(e,n,t,i)=>j("save_gift_click",{...f(n),...u(e,i),recipientCanSchedule:!!e.shouldRecipientScheduleGift,isMerchantShipping:!!n.isMerchantShipping,hasValidEmail:!!e.recipientEmail,clickFrom:t}),m=e=>j("gift_modal_error",f(e)),x=e=>j("remove_gift_pop_up_view",f(e)),v=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"na";return j("remove_gift_confirm_click",{...f(e),clickFrom:n,switchedFulfillmentTo:t})},_=(e,n,t)=>j("gift_recipient_info_next",{...f(n),...u(e,t)}),C=e=>j("phone_info_click",f(e)),S=e=>j("gift_preview_load",f(e)),I=e=>j("gift_preview_confirm",f(e)),y=e=>j("gift_preview_back",f(e)),b=(e,n,t)=>j("gift_alcohol_info_next",{...f(n),...u(e,t)}),w=(e,n,t)=>j("gift_alcohol_info_back",{...f(n),...u(e,t)}),P=(e,n,t)=>j("checkout_gift_alcohol_missing_phone_number_error",{...f(n),...u(e,t)}),k=()=>{(0,l.ZP)("send_as_gift_schedule_toggle_on")},N=()=>{(0,l.ZP)("send_as_gift_schedule_toggle_off")},E=()=>{(0,l.ZP)("checkout_delivery_time_gift_schedule_toggle_on")},T=()=>{(0,l.ZP)("checkout_delivery_time_gift_schedule_toggle_off")},A=()=>{(0,l.ZP)("checkout_page_click_add_promo_giftcard_redeem_click")},R=e=>{if(!e)return{};let n=e.hasGiftIntent?"store":"checkout";return{has_gift_option:!!e,has_gift_recipient_phone_number:!!e.recipientPhone,gift_message:e.cardMessage,digital_card:e.cardId,recipient_can_schedule:!!e.shouldRecipientScheduleGift,save_gift_from:n}},G=e=>{var n,t,i;let r=!!(null===(t=e.domain)||void 0===t?void 0:null===(n=t.giftInfo)||void 0===n?void 0:n.hasGiftIntent),o=!!(null===(i=e.domain)||void 0===i?void 0:i.giftInfo);return o?{gift_intent:r,is_gift:o}:{is_gift:!1}},D=e=>{let{isMerchantShipping:n,isRemove:t,isSuccessful:i}=e;(0,l.ZP)("gift_update_meal_gift_result",{is_merchant_shipping:n,is_remove:t,is_successful:i})},M=()=>(0,l.ZP)("gift_switch_to_pickup_load"),L=()=>(0,l.ZP)("gift_switch_to_pickup_confirm_click"),O=e=>{var n,t,i,r;return{gift_intent:!!(null==e?void 0:null===(t=e.domain)||void 0===t?void 0:null===(n=t.giftInfo)||void 0===n?void 0:n.hasGiftIntent),is_gift:!!(null==e?void 0:null===(r=e.domain)||void 0===r?void 0:null===(i=r.giftInfo)||void 0===i?void 0:i.recipientName)}},j=(e,n)=>{let t=Object.assign({},...Object.entries(n).map(e=>{let[n,t]=e;return{[d()(n)]:t}}));(0,l.ZP)(e,t)}},121173:function(e,n,t){t.d(n,{o:function(){return s}});var i=t(847881),r=t(755928),o=t(98276),a=t(205157),l=t(672755),c=t(327601);function d(){let e=(0,i._)(["\n  mutation removeCartGiftInfo($cartId: ID!) {\n    removeCartGiftInfo(cartId: $cartId)\n  }\n"]);return d=function(){return e},e}let s="GIFT_INFO_REMOVED_EVENT",u=(0,r.gql)(d());n.Z=e=>{let{cartId:n,isMerchantShipping:t=!1,updateApolloCache:i=!0,refetchQueries:r}=e,d=(0,c.bU)(),[f]=(0,o.D)(u,{variables:{cartId:n},refetchQueries:r});return e=>f({variables:{cartId:e||n},...i?{update:(t,i)=>{let{data:r}=i;(0,l.vX)({cache:t,data:r,cartId:e||n,locale:d})}}:{}}).then(e=>{var n;let i=(null===(n=e.data)||void 0===n?void 0:n.removeCartGiftInfo)===!0;if((0,a.Ep)({isMerchantShipping:t,isRemove:!0,isSuccessful:i}),i)window.dispatchEvent(new Event(s));else throw Error("unable to remove gift info from cart")})}},672755:function(e,n,t){t.d(n,{Y9:function(){return l},ri:function(){return o},vX:function(){return c}});var i=t(831231),r=t(205900);let o={recipientName:"",recipientGivenName:"",recipientFamilyName:"",recipientPhone:"",recipientEmail:"",cardMessage:"",cardId:"",senderName:"",shouldNotifyTrackingToRecipientOnDasherAssign:null,shouldNotifyRecipientForDasherQuestions:null,shouldRecipientScheduleGift:!1,hasGiftIntent:null,__typename:"OrderCartGiftOptions"},a=e=>{let{cartId:n,mutationResp:t,cache:r}=e,o=r.readQuery({query:i.IO}),a=null==o?void 0:o.consumer,l=null==a?void 0:a.orderCart,c=null==l?void 0:l.domain,d=!!a&&!!l&&!!c&&!0===t&&l.id===n;return{consumer:a,consumerOrderCart:l,domain:c,canWrite:d}},l=e=>{let{cartId:n,cache:t,data:l,newUpdateCartGiftInfoInput:c,locale:d}=e;try{let{consumer:e,consumerOrderCart:r,domain:d,canWrite:s}=a({cartId:n,cache:t,mutationResp:null==l?void 0:l.updateCartGiftInfo});s&&t.writeQuery({query:i.IO,data:{consumer:{...e,orderCart:{...r,domain:{...d,giftInfo:{...o,...c}}}}}})}catch(e){(0,r.gs)({giftOptions:null,message:"Error updating gift info on consumer cart cache",entryPoint:r.JE.APOLLO_CACHE_UPDATE},d)}},c=e=>{let{cache:n,data:t,cartId:l,locale:c}=e;try{let{consumer:e,consumerOrderCart:r,domain:c,canWrite:d}=a({cartId:l,cache:n,mutationResp:null==t?void 0:t.removeCartGiftInfo});d&&n.writeQuery({query:i.IO,data:{consumer:{...e,orderCart:{...r,domain:{...c,giftInfo:{...o}}}}}})}catch(e){(0,r.gs)({giftOptions:null,message:"Error removing gift info on consumer cart cache",entryPoint:r.JE.APOLLO_CACHE_UPDATE},c)}}},205900:function(e,n,t){t.d(n,{JE:function(){return r},gs:function(){return s}});var i,r,o=t(332780),a=t(487201);let l={feature:"meal_gifting"};(i=r||(r={})).ADDRESS_PICKER="LayoutAddressPicker",i.CARD_CAROUSEL="CardCarousel",i.CHECKOUT_INFO="CheckoutInfo",i.CHECKOUT_INFO_V2="CheckoutInfoV2",i.GIFT_OPTION_PANEL_V2="GiftOptionPanelV2",i.MESSAGE_PREVIEW="MessagePreview",i.WIZARD="MealGiftingWizard",i.WIZARDV2="MealGiftingWizardV2",i.GIFTING_TIMEPICKER_MODAL="GiftingTimePickerModal",i.TIMEPANEL="TimePanel",i.TIMEPANELV2="TimePanelV2",i.GIFT_ENTRY_STORE_PAGE="GiftEntryStorePage",i.APOLLO_CACHE_UPDATE="ApolloCacheUpdate";let c=(e,n)=>({hasRecipientPhoneNumber:!!e.recipientPhone,hasRecipientName:!!(0,a.cj)(e,n),hasGiftMessage:!!e.cardMessage,recipientCountryCode:e.recipientCountryCode,selectedVirtualCard:e.cardId}),d=(e,n,t)=>{let i={component:n.entryPoint};n.giftOptions&&(i={...i,...c(n.giftOptions,t)});let r={level:e,message:n.message,contexts:{"Meal Gifting Context":i},tags:l};return(0,o.eN)(r)},s=(e,n)=>d("error",e,n)},374038:function(e,n,t){var i=t(419393);t(898744);var r=t(320448),o=t(47854),a=t(80291);n.Z=()=>{let{consumer:e}=(0,a.R)(),n=(0,o.iL)();return(null==e?void 0:e.isGuest)||!n?null:(0,i.jsx)(r.Z.Provider,{children:(0,i.jsx)(r.Z.Container,{})})}},197888:function(e,n,t){t.d(n,{p:function(){return f}});var i=t(419393);t(898744);var r=t(825935),o=t(454520),a=t(292025),l=t(477074),c=t(488455);let d=t(974769).Q2.usage.space.xxxLarge,s=c.default.div.withConfig({componentId:"sc-d3f0b77c-0"})(["",""],e=>{let{isMobile:n}=e;return n&&"max-width: calc(100vw - ".concat(d,"px)")});var u=t(500057);let f=e=>{let{shouldShowInfoPickerTooltip:n,children:t}=e,{isMobileTablet:c,isMobile:d}=(0,l.ac)();return n?(0,i.jsx)(r.Z,{isVisible:!0,size:o.O.small,position:c?a.eW.bottomCenter:a.eW.bottomLeft,content:(0,i.jsx)(s,{isMobile:d,children:u.ZP.t("seo_foodNearMePage_discovery_addressPickerTooltipContent")}),children:()=>(0,i.jsx)(i.Fragment,{children:t})}):(0,i.jsx)(i.Fragment,{children:t})}}}]);
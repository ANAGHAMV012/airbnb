"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17967],{724884:function(e,t,n){var i=Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=t.getHash=t.checkDefaultMode=t.FetchDVSClientClass=t.DVSClientClass=void 0;var o=n(395918);Object.defineProperty(t,"DVSClientClass",{enumerable:!0,get:function(){return o.FetchDVSClientClass}}),Object.defineProperty(t,"FetchDVSClientClass",{enumerable:!0,get:function(){return o.FetchDVSClientClass}}),n(131252);var r=n(521567);Object.defineProperty(t,"checkDefaultMode",{enumerable:!0,get:function(){return r.checkDefaultMode}}),function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)}(n(699430),t);var l=n(970893);Object.defineProperty(t,"getHash",{enumerable:!0,get:function(){return l.getHash}}),t.metrics={register:void 0}},131252:function(){"undefined"==typeof globalThis?window.process={env:{}}:"undefined"!=typeof globalThis&&void 0===globalThis.process&&(globalThis.process=window.process={env:{}})},699430:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},42186:function(e,t,n){var i=n(419393),o=n(898744),r=n(972567),l=n(966262),a=n(764472),c=n(595767),d=n(858714),s=n(136671),u=n(421695),p=n(327601);t.Z=e=>{let{consumer:t}=e,{experience:n}=(0,r.useExperience)(),h=(0,p.Mv)(),f=(0,u.qr)(e=>e.pageType),x=(0,l.useDVSBoolean)(d.P.enableBugReporter,!1)&&!0;return o.useEffect(()=>{let e;return x?(window.onUsersnapCXLoad=i=>{e||(i.init({user:{userId:t.id,email:t.email}}),i.on("open",e=>{var i;let{city:o="",state:r="",submarketId:l=""}=null!==(i=t.defaultAddress)&&void 0!==i?i:{},d={...(0,a.B)(),user_agent:navigator.userAgent,experience:n,page_type:f,device_id:h,connection_speed:Math.round((0,c.Z)()),consumer_id:t.id,submarket_id:l,email:t.email,has_completed_first_order:t.hasCompletedFirstOrder,city_state:"".concat(o,", ").concat(r)};e.api.setValue("custom",d)}),e=i)},()=>{e&&e.destroy()}):()=>{}},[t,h,n,x,f]),x?(0,i.jsx)(s.default,{src:"https://widget.usersnap.com/global/load/".concat("91c1c0b4-5279-40df-a010-fab7e45c8eb8","?onload=onUsersnapCXLoad"),id:"usersnap-widget",strategy:"lazyOnload"}):null}},565816:function(e,t,n){n.d(t,{F:function(){return c}});var i=n(419393);n(898744);var o=n(972567),r=n(557757),l=n(661642),a=n(346540);let c=e=>{let{children:t}=e,{isDoorDash:n}=(0,o.useExperience)();return(0,a.q)()&&n?(0,i.jsx)(r.iS,{overrides:l.Z,children:t}):(0,i.jsx)(i.Fragment,{children:t})}},873849:function(e,t,n){n.d(t,{H:function(){return i}});let i=e=>{let t=RegExp(".*@doordash.com$","i");return!!(null==e?void 0:e.id)&&t.test((null==e?void 0:e.email)||"")}},975634:function(e,t,n){n.d(t,{x:function(){return d}});var i=n(898744),o=n(327601),r=n(873849),l=n(972567),a=n(35684),c=n(655234);let d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{consumer:t}=(0,c.T)(),n=(0,o.Mv)(),d=(0,o.bU)(),{experience:s}=(0,l.useExperience)(),{email:u,isGuest:p,defaultCountry:h,defaultAddress:f}=t,x=t.isGuest?n:t.id,b=(0,a.X)();return i.useMemo(()=>{var i;return{consumerId:x||n,consumer_id:x||n,isEmployee:(0,r.H)(t),is_employee:(0,r.H)(t),submarketId:(null==f?void 0:null===(i=f.submarketId)||void 0===i?void 0:i.toString())||"",deviceId:n,device_id:n,language:d,isGuest:p,email:u||"",experience:s,defaultCountry:h||"United States",platform:b,is_platform_web:!0,country:(null==f?void 0:f.countryCode)||"US",...e}},[t,n,d,s,b,JSON.stringify(e)])}},751170:function(e,t,n){let i;n.d(t,{p:function(){return eg}});var o=n(419393),r=n(898744),l=n(285437),a=n(574952),c=n(283276),d=n(884015),s=n(488455),u=n(873849),p=n(764472);let h=s.default.div.withConfig({componentId:"sc-713036bf-0"})(["font-family:monospace;background:whitesmoke;border-radius:8px;margin-top:10px;"]),f=s.default.div.withConfig({componentId:"sc-713036bf-1"})(["font-size:12px;font-weight:bold;text-align:left;color:black;white-space:nowrap;overflow:hidden;text-overflow:hidden;"]),x=s.default.div.withConfig({componentId:"sc-713036bf-2"})(["position:relative;height:16px;"]),b=s.default.div.withConfig({componentId:"sc-713036bf-3"})(["width:100%;height:4px;box-sizing:content-box;position:relative;"]),g=s.default.div.withConfig({componentId:"sc-713036bf-4"})(["position:absolute;background:lightgreen;height:4px;"]),m=s.default.div.withConfig({componentId:"sc-713036bf-5"})(["position:absolute;background:orange;height:4px;"]),w=s.default.div.withConfig({componentId:"sc-713036bf-6"})(["position:absolute;background:crimson;height:4px;"]),v=s.default.div.withConfig({componentId:"sc-713036bf-7"})(["position:absolute;bottom:0;transform-origin:bottom center;transform:translateX(-1px);height:35px;width:3px;background:white;box-sizing:border-box;"]),C=s.default.div.withConfig({componentId:"sc-713036bf-8"})(["position:absolute;left:1px;top:0;background:black;height:100%;width:1px;"]),j=s.default.div.withConfig({componentId:"sc-713036bf-9"})(["position:absolute;left:calc(100% + 4px);top:0;font-size:12px;font-weight:bold;"]),y=s.default.div.withConfig({componentId:"sc-713036bf-10"})(["position:absolute;right:4px;top:0;font-size:12px;font-weight:bold;"]),k=s.default.div.withConfig({componentId:"sc-713036bf-11"})(["position:absolute;font-size:12px;color:black;"]);var I=e=>{let{title:t,min:n,max:i,good:r,fair:l,bad:a,value:c}=e,d=r.lower>a.upper,s=Math.max(n,Math.min(i,c)),u=s<=(i-n)/2,p=isFinite(c),I=d?p&&c>=r.lower:p&&c<=r.upper,_=p&&c>l.lower&&c<=l.upper,S=d?p&&c<l.lower:p&&c>l.upper;return(0,o.jsxs)(h,{style:{filter:p?"none":"grayscale(1)",opacity:p?1:.5},children:[(0,o.jsx)(f,{children:t}),(0,o.jsxs)(b,{children:[(0,o.jsx)(g,{style:{left:"".concat(r.lower/(i-n)*100,"%"),width:"".concat((r.upper-r.lower)/(i-n)*100,"%"),filter:I?"none":"grayscale(1)",opacity:I?"1.0":"0.5"}}),(0,o.jsx)(m,{style:{left:"".concat(l.lower/(i-n)*100,"%"),width:"".concat((l.upper-l.lower)/(i-n)*100,"%"),filter:_?"none":"grayscale(1)",opacity:_?"1.0":"0.5"}}),(0,o.jsx)(w,{style:{left:"".concat(a.lower/(i-n)*100,"%"),width:"".concat((a.upper-a.lower)/(i-n)*100,"%"),filter:S?"none":"grayscale(1)",opacity:S?"1.0":"0.5"}}),p&&(0,o.jsxs)(v,{style:{left:"".concat(s/(i-n)*100,"%")},children:[(0,o.jsx)(C,{}),u?(0,o.jsx)(j,{children:c.toFixed(2)}):null,u?null:(0,o.jsx)(y,{children:c.toFixed(2)})]})]}),(0,o.jsxs)(x,{children:[(0,o.jsx)(k,{style:{left:"".concat(r.lower/(i-n)*100,"%")},children:r.lower}),(0,o.jsx)(k,{style:{left:"".concat(l.lower/(i-n)*100,"%")},children:l.lower}),(0,o.jsx)(k,{style:{left:"".concat(a.lower/(i-n)*100,"%")},children:"".concat(a.lower,"+")})]})]})},_=n(579214);let S=s.default.div.withConfig({componentId:"sc-93008c18-0"})(["font-family:monospace;width:100%;display:flex;flex-direction:column;margin-bottom:20px;"]),E=s.default.div.withConfig({componentId:"sc-93008c18-1"})(["width:auto;font-weight:bold;font-size:13px;background:gray;color:white;border-radius:10px;align-self:flex-start;padding:2px 20px;"]),P=s.default.div.withConfig({componentId:"sc-93008c18-2"})(["display:flex;justify-content:space-between;flex-direction:row;width:calc(100% - 50px);transform:translate(25px,50px);"]),T=s.default.div.withConfig({componentId:"sc-93008c18-3"})(["width:calc(100% - 50px);transform:translateX(25px);height:2px;box-sizing:content-box;position:relative;background:lightgray;margin-bottom:80px;margin-top:50px;"]),D=s.default.div.withConfig({componentId:"sc-93008c18-4"})(["font-size:12px;font-weight:bold;position:absolute;transform-origin:top left;padding 2px 6px;border:1px solid black;background:whitesmoke;color:black;cursor:pointer;&:hover{z-index:1;}transition:left 1s;"]),z=s.default.div.withConfig({componentId:"sc-93008c18-5"})(["position:absolute;background:red;border:1px solid black;opacity:0.25;top:0;height:75px;transform:translateY(-100%);"]),F=s.default.div.withConfig({componentId:"sc-93008c18-6"})(["position:absolute;background:yellow;border:1px solid black;opacity:0.25;top:0;height:75px;"]);var O=e=>{let{metricTypes:t,metrics:n}=e,i=Math.ceil(1e3+t.reduce((e,t)=>Number.isFinite(n[t].value)?Math.max(e,n[t].value):e,0)),r=e=>e/i*100,l=t.map(e=>n[e]).filter(e=>Number.isFinite(e.value)).sort((e,t)=>e.value-t.value),a=(e,t)=>{let{value:n,good:i,fair:l,key:a,name:c}=e,d=n<=i.upper,s=n>l.lower&&n<=l.upper;return(0,o.jsx)(D,{style:{left:"".concat(r(n),"%"),transform:"rotate(".concat(t?"-":"","45deg)"),background:d?"lightgreen":s?"orange":"crimson",color:d?"black":s?"black":"white"},title:c,children:"".concat(a," ").concat((n/1e3).toFixed(2),"s")},a)};return(0,o.jsxs)(S,{children:[(0,o.jsx)(E,{children:"Timeline"}),(0,o.jsxs)(P,{children:[(0,o.jsx)("span",{children:"0s"}),(0,o.jsx)("span",{children:"".concat((i/1e3).toFixed(0),"s")})]}),(0,o.jsxs)(T,{children:[n[_.I.TBT].extra.map(e=>{let{startTime:t,duration:n}=e;if(t>=i)return null;let l=r(t),a=r(n);return(0,o.jsx)(z,{style:{left:"".concat(l,"%"),width:"".concat(a,"%")},title:"CPU Blocking Event:\n\nStart: ".concat((t/1e3).toFixed(2),"s\nDuration:").concat(n.toFixed(2),"ms")})}),n[_.I.JSE].extra.map(e=>{var t;let n=[];return e.scripts&&0!==e.scripts.length&&(null===(t=e.scripts)||void 0===t||t.forEach(e=>{let{invokerType:t}=e;if("classic-script"===t||"module-script"===t){let{startTime:l,duration:a}=e;if(l>=i)return;let c=r(l),d=r(a);n.push((0,o.jsx)(F,{style:{left:"".concat(c,"%"),width:"".concat(d,"%")},title:"JavaScript evaluation event:\n\nStart: ".concat((l/1e3).toFixed(2),"s\nDuration:").concat(a.toFixed(2),"ms\nSource: ").concat(e.invoker,"\nInvoker Type: ").concat(t)}))}})),n}),l.map((e,t)=>a(e,t%2!=0))]})]})},A=n(613262),M=n(421695);let L=(e,t,n)=>{let i="".concat("https://doordash.chronosphere.io/dashboards/d/wip-dm-web-performance/consumer-web-client-metrics?var-platform=All&var-interval=1h&var-percentile=75","&var-page_type=").concat(e);return t.forEach(e=>i="".concat(i,"&var-scalar_based_metrics=").concat(e)),n.forEach(e=>i="".concat(i,"&var-timestamp_based_metrics=").concat(e)),i},U=e=>{if(!e)return null;let{report:t}=e;return(0,o.jsxs)(V,{children:[(0,o.jsx)("thead",{children:(0,o.jsx)(H,{children:t[0].map(e=>(0,o.jsx)(Z,{children:e.value}))})}),(0,o.jsx)("tbody",{children:t.slice(1).map(e=>(0,o.jsx)(N,{children:e.map(e=>(0,o.jsx)(B,{style:e.background?{background:e.background,fontWeight:"bold"}:{},children:e.value}))}))})]})},V=s.default.table.withConfig({componentId:"sc-92db763c-0"})(["width:100%;max-width:1200px;"]),Z=s.default.th.withConfig({componentId:"sc-92db763c-1"})(["text-align:left;font-weight:bold;padding:8px;"]),B=s.default.td.withConfig({componentId:"sc-92db763c-2"})(["text-align:left;padding:8px;:first-child{font-weight:bold;background:#aaa;}"]),N=s.default.tr.withConfig({componentId:"sc-92db763c-3"})(["background:white;:nth-child(odd){background:whitesmoke;}}"]),H=s.default.tr.withConfig({componentId:"sc-92db763c-4"})(["background:#aaa;"]),J=s.default.div.withConfig({componentId:"sc-92db763c-5"})(["font-family:monospace;position:fixed;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.25);z-index:9999;"]),R=s.default.div.withConfig({componentId:"sc-92db763c-6"})(["display:flex;flex-direction:column;overflow-x:hidden;overflow-y:scroll;overscroll-behavior:none;background:white;border-radius:8px;margin:10px;width:calc(100vw - 20px);height:calc(100vh - 20px);padding:8px;"]),W=s.default.div.withConfig({componentId:"sc-92db763c-7"})(["display:flex;justify-content:center;align-items:center;margin-bottom:16px;"]),X=s.default.span.withConfig({componentId:"sc-92db763c-8"})(["font-weight:bold;font-size:14px;margin-right:16px;"]),G=s.default.span.withConfig({componentId:"sc-92db763c-9"})(["width:auto;font-weight:bold;font-size:13px;background:gray;color:white;border-radius:10px;align-self:flex-start;padding:2px 20px;"]),q=s.default.div.withConfig({componentId:"sc-92db763c-10"})(["display:flex;flex-direction:column;row-gap:8px;padding-bottom:20vh;"]),$=s.default.div.withConfig({componentId:"sc-92db763c-11"})(["width:100%;display:flex;flex-direction:column;align-items:center;margin-bottom:16px;"]),Y=s.default.div.withConfig({componentId:"sc-92db763c-12"})(["width:100%;flex-shrink:0;padding:12px 0;"]);var K=function(e){let{onClose:t}=e,[n]=r.useState(window.dd_metrics),[i,l]=r.useState(0),a=r.useCallback(()=>{l(i+1)},[i]);r.useEffect(()=>(window.on_any_dd_metric_reported=a,()=>{window.on_any_dd_metric_reported=null}),[a]);let c=(e,t,i)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(G,{children:e}),i&&(0,o.jsx)("a",{href:i,target:e,children:"Real User Data"}),t.map((e,t)=>{let{name:i,good:r,fair:l,bad:a,value:c}=n[e];return(0,o.jsx)(I,{title:i,min:r.lower,max:a.upper,good:r,fair:l,bad:a,value:c},"metric-".concat(t))}),(0,o.jsx)("hr",{})]}),d=(0,M.qr)(e=>e.pageType)||A.G.Unknown,s=[_.I.TTFB,_.I.LCP,_.I.FCP,_.I.DCL,_.I.LOAD,_.I.TTI],u=[_.I.FCP,_.I.LCP],p=[_.I.CLS,_.I.IMG,_.I.DOM],h=[_.I.TTFB],f=[_.I.JSB,_.I.TDU,_.I.TDU_PRE,_.I.TDU_POST,_.I.MCN],x=[_.I.TTI,_.I.TBT,_.I.JSE,_.I.INP],b=[_.I.DCL,_.I.LOAD],g=n[_.I.PS],m=isFinite(g.value)?{pageScore:g.value,report:g.extra}:null;return(0,o.jsx)(J,{children:(0,o.jsxs)(R,{children:[(0,o.jsxs)(W,{children:[(0,o.jsx)(X,{children:"Performance Inspector: ".concat(d)}),(0,o.jsx)("button",{onClick:t,children:"Close"})]}),n&&(0,o.jsx)(O,{metrics:n,metricTypes:s}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)($,{children:[(0,o.jsx)(G,{children:"Page Score"}),m&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Y,{children:(0,o.jsx)(I,{title:"Page Score",min:0,max:1,bad:{lower:0,upper:.5},fair:{lower:.5,upper:.75},good:{lower:.75,upper:1},value:(null==m?void 0:m.pageScore)||0})}),U(m)]}),!m&&(0,o.jsx)("span",{children:"Pending ..."})]}),(0,o.jsxs)(q,{children:[c("Rendering",[...u,...p],L(d,p,u)),c("Network",[...f,...h],L(d,f,h)),c("Interaction",x,L(d,[],x)),c("Events",b,L(d,[],b))]})]})]})})},Q=n(850015),ee=n(991311);let et=()=>{let e=window.innerWidth;return e>=ee.u3.wideScreen?ee.u3.ultraWideScreen:e>=ee.u3.desktop?ee.u3.wideScreen:e>=ee.u3.tablet?ee.u3.desktop:e>=ee.u3.mobile?ee.u3.tablet:ee.u3.mobile},en=e=>{let{min:t,max:n,name:i,highlight:r}=e;return(0,o.jsx)(eo,{style:{left:"".concat(t,"px"),width:"".concat(n-t,"px"),background:r?"black":"white",color:r?"white":"black"},children:i})},ei=s.default.div.withConfig({componentId:"sc-543b5166-0"})(["position:fixed;left:0;top:0;width:100vw;z-index:999999;"]),eo=s.default.div.withConfig({componentId:"sc-543b5166-1"})(["position:absolute;display:flex;align-items:center;justify-content:flex-start;padding-left:4px;border:1px solid black;box-sizing:border-box;background:white;color:black;font-family:monospace;font-size:11px;font-weight:bold;"]);var er=()=>{let e=r.useCallback(()=>{n(et())},[]);r.useEffect(()=>(window.addEventListener("resize",e,!0),()=>{window.removeEventListener("resize",e,!0)}),[e]);let[t,n]=r.useState(et());return(0,o.jsxs)(ei,{children:[(0,o.jsx)(en,{min:0,max:ee.u3.mobile,name:"mobile",highlight:t===ee.u3.mobile}),(0,o.jsx)(en,{min:ee.u3.mobile,max:ee.u3.tablet,name:"tablet",highlight:t===ee.u3.tablet}),(0,o.jsx)(en,{min:ee.u3.tablet,max:ee.u3.desktop,name:"desktop",highlight:t===ee.u3.desktop}),(0,o.jsx)(en,{min:ee.u3.desktop,max:ee.u3.wideScreen,name:"widescreen",highlight:t===ee.u3.wideScreen}),(0,o.jsx)(en,{min:ee.u3.wideScreen,max:ee.u3.ultraWideScreen+2e3,name:"ultra-widescreen",highlight:t===ee.u3.ultraWideScreen})]})};let el={"data-hint":"ignore"},ea=s.default.div.withConfig({componentId:"sc-3b29f859-0"})(["font-family:monospace;position:fixed;left:0;top:0;width:100vw;height:100vh;background:transparent;z-index:9999;"]),ec=s.default.div.withConfig({componentId:"sc-3b29f859-1"})(["position:absolute;box-sizing:border-box;border:1px solid black;display:flex;align-items:center;justify-content:center;"]),ed=s.default.div.withConfig({componentId:"sc-3b29f859-2"})(["display:flex;align-items:center;justify-content:center;color:black;background:white;width:16px;height:16px;border:1px solid black;font-size:10px;"]),es=s.default.div.withConfig({componentId:"sc-3b29f859-3"})(["position:fixed;z-index:99999999;right:16px;bottom:16px;display:flex;flex-direction:column;justify-content:flex-start;padding:4px;background:white;border:1px solid black;"]);var eu=function(e){let{onClose:t}=e,[n,l]=(0,r.useState)([]),[a,c]=(0,r.useState)(0),[d,s]=(0,r.useState)(0),[u,p]=(0,r.useState)(""),h=(0,r.useCallback)(e=>{p("Depth: ".concat(e.currentTarget.getAttribute("data-depth")))},[]),f=(0,r.useCallback)(()=>{p("")},[]),x=(0,r.useCallback)(()=>{let e={x:0,y:0,width:window.innerWidth,height:window.innerHeight},t=0,n=0,i=[],r=(l,a)=>{if("ignore"===l.getAttribute("data-hint"))return;n+=1,t=Math.max(a,t);let c=l.getBoundingClientRect(),d=(0,Q.f)(e,c),s=Array.from(l.children);if((0,Q.I)(d)>0){let e=a>=10?"rgba(255, 0, 0, 0.04)":"transparent";i.push((0,o.jsx)(ec,{style:{left:"".concat(d.x,"px"),top:"".concat(d.y,"px"),width:"".concat(d.width,"px"),height:"".concat(d.height,"px"),backgroundColor:e,zIndex:a},...el,"data-depth":a,onMouseEnter:h,onMouseLeave:f,children:0===s.length?(0,o.jsx)(ed,{children:a}):null},n))}s.forEach(e=>{r(e,a+1)})};r(document.body,0),l(i),c(t),s(n)},[h,f]),b=(0,r.useCallback)(()=>{x()},[x]);(0,r.useEffect)(()=>{b()},[b]);let g=(0,r.useCallback)(()=>{clearTimeout(i),i=setTimeout(b,200)},[b]),m=(0,r.useCallback)(()=>{clearTimeout(i)},[]),w=(0,r.useCallback)(()=>{g()},[g]),v=(0,r.useRef)(w);return(0,r.useEffect)(()=>{v.current=w},[w]),(0,r.useEffect)(()=>(window.addEventListener("scroll",w,!0),window.addEventListener("resize",w,!0),()=>{window.removeEventListener("scroll",w,!0),window.removeEventListener("resize",w,!0),m()}),[w,m]),(0,o.jsxs)(ea,{...el,children:[n,(0,o.jsxs)(es,{children:[(0,o.jsx)("b",{children:"DOM Inspector"}),(0,o.jsx)("br",{}),(0,o.jsxs)("span",{children:["Total Elements: ",(0,o.jsx)("b",{children:d})]}),(0,o.jsxs)("span",{children:["Max Tree Depth: ",(0,o.jsx)("b",{children:a})]}),(0,o.jsx)("span",{children:u}),(0,o.jsx)("br",{}),(0,o.jsx)("button",{onClick:t,children:"Close"})]}),(0,o.jsx)(er,{})]})},ep=n(637442),eh=n(157890);let ef=s.default.div.withConfig({componentId:"sc-1537491c-0"})(["position:fixed;bottom:50px;right:10px;"]),ex=s.default.div.withConfig({componentId:"sc-1537491c-1"})(["& > p{margin:0;}"]),eb=s.default.div.withConfig({componentId:"sc-1537491c-2"})(["display:flex;flex-direction:column;"]),eg=e=>{let{consumer:t,deviceId:n,gqlInformation:i}=e,{appVersion:s,appWebSHa:h,appName:f}=(0,p.B)(),x=(0,u.H)({email:t.email,id:t.id}),[b,g]=r.useState(!1),[m,w]=r.useState(!1);return x?(0,o.jsxs)("div",{...el,children:[(0,o.jsx)(l.default,{children:(0,o.jsx)(ef,{children:(0,o.jsx)(a.Z,{size:c.O.small,position:d.eW.topCenter,content:(0,o.jsxs)(ex,{children:[(0,o.jsx)("p",{children:"This is only visible to employees:"}),(0,o.jsxs)("p",{children:["email: ",t.email]}),(0,o.jsxs)("p",{children:["deviceId: ",n]}),(0,o.jsx)("br",{}),(0,o.jsxs)("p",{children:["appName: ",f]}),(0,o.jsxs)("p",{children:["appVersion: ",s]}),(0,o.jsxs)("p",{children:["appWebSha: ",h]}),(0,o.jsx)("br",{}),void 0!==i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{children:"Server-side GQL Latencies:"}),Object.keys(i).map(e=>(0,o.jsx)("p",{children:"".concat(e,": ").concat(i[e].latency,"ms")},e))]}),(0,o.jsxs)(eb,{children:[(0,o.jsx)("button",{onClick:()=>w(!m),children:"DOM Inspector"}),(0,o.jsx)("button",{onClick:()=>g(!b),children:"Performance Inspector"})]})]}),children:()=>(0,o.jsx)(ep.Z,{type:eh.IconType.InfoCircleLine,color:eh.EY.highlight.default,"data-testid":"alcohol-icon"})})})}),b&&(0,o.jsx)(K,{onClose:()=>g(!1)}),m&&(0,o.jsx)(eu,{onClose:()=>w(!1)})]}):null}},400807:function(e,t,n){n.d(t,{CJ:function(){return c},Xr:function(){return a},xU:function(){return o}});var i,o,r=n(419393),l=n(898744);(i=o||(o={})).teamId="teamId",i.storeId="store_id",i.businessId="business_id";let a=l.createContext({additionalContext:{teamId:"",store_id:"",business_id:""},updateAdditionalContext:()=>{console.error("no updater for additional context provided!"),console.error("Check that ConsumerDynamicValuesV2WithAdditionalContextProvider is wrapping the DV2 Provider")}}),c=e=>{let{additionalDVContext:t,children:n}=e,[i,o]=l.useState({teamId:t.teamId,store_id:t.store_id,business_id:t.business_id}),c=(0,l.useCallback)((e,t)=>{i[e]!==t&&o(n=>({...n,[e]:t}))},[i]);return(0,r.jsx)(a.Provider,{value:{additionalContext:i,updateAdditionalContext:c},children:n})}},983147:function(e,t,n){n.d(t,{ZP:function(){return j}});var i=n(419393),o=n(898744),r=n(108124),l=n(737702),a=n(421695),c=n(327601),d=n(488455),s=n(846785);let u=(0,d.default)(s.Z).withConfig({componentId:"sc-58366030-0"})(["position:sticky;bottom:0;width:100%;z-index:500 !important;@media (min-width:30em){align-items:center;}button[kind='BUTTON/PLAIN']{background-color:#eb1700;color:white;}"]);var p=n(904650),h=n(500057),f=n(78999),x=n.n(f),b=n(593613),g=n(337534),m=n(644026),w=n(992468);let v="cookie_tracking_enabled",C=e=>{let{locale:t,ipCountry:n}=e,l=y(),a=o.useMemo(()=>({i18nextInstance:h.ZP.instance}),[]),{isCookieBannerEnabled:c}=(0,p.u0)(),[d,s]=o.useState(D(l,t,n));if(o.useEffect(()=>{c&&d&&(0,m.ZP)(w.Ut)},[c,d]),!c||!d)return null;let f={body:(0,i.jsx)(g.x,{children:(0,i.jsx)(x(),{i18n:a,i18nKey:"seo_cookie_banner_body",components:[(0,i.jsx)("a",{href:_(t,n),target:"_blank",children:h.ZP.t("seo_privacyPolicy")},"doordash-privacy-policy")]})}),isGlobal:!0,primaryAction:{onClick:()=>{I(!0),s(!1),(0,m.ZP)(w.xC,{opt_in:!0})},content:h.ZP.t("seo_cookie_banner_accept_all")},secondaryAction:{onClick:()=>{I(!1),s(!1),(0,m.ZP)(w.xC,{opt_in:!1})},content:h.ZP.t("seo_cookie_banner_essential_only")}};return(0,i.jsx)(u,{"data-testid":"cookie-banner",...f,actionPosition:r.b2.trailing,bannerType:r.$.informational,bannerStyle:r.v4.default})};var j=e=>{let{ipCountry:t}=e,n=(0,c.bU)();return T(n,t)?(0,i.jsx)(C,{locale:n,ipCountry:t}):null};let y=()=>(0,a.qr)(e=>e.clientCookies).get(v),k=e=>{let t=e.indexOf("-");return e.substring(0,t)},I=e=>{(0,l.pC)(v,S(e,"4"),31536e3)},_=(e,t)=>e===b.Locale.FR_CA?"https://help.doordash.com/legal/fr-CA/document?type=cx-cookie-policy&region=CA&locale=fr-CA":e===b.Locale.EN_CA||"CA"===t?"https://help.doordash.com/legal/en-CA/document?type=cx-cookie-policy&region=CA&locale=en-CA":"https://help.doordash.com/legal/document?type=cx-privacy-policy&region=US&locale=en-US",S=(e,t)=>t+"-"+String(e),E=e=>void 0!==e&&P(e)&&"4"===k(e),P=e=>/^\d+-(true|false)$/.test(e),T=(e,t)=>"fr-CA"===e||"en-CA"===e||"CA"===t,D=(e,t,n)=>T(t,n)&&!E(e)},650277:function(e,t,n){n.d(t,{J:function(){return v}});var i=n(419393),o=n(898744),r=n(966262),l=n(400807),a=n(975634),c=n(764472),d=n(962151),s=n(724884),u=n(426080);let p="app-consumer",h=e=>{let t=new s.DVSClientClass({debounce:!0,evaluateCallCacheConfig:{maxAge:1/0},logVerbose:!1}),{appVersion:n="unknown"}=(0,c.B)();return t.init({application:p,appVersion:n,enableSentry:!0,namespaces:[p],telemetry:(0,u.s)()?void 0:(0,d.ER)(e),defaultMode:(0,u.s)()}),t};var f=n(332780);let x=(e,t,n)=>{if(n&&t&&0===Object.keys(e.serializeEvaluationCache(n).evaluationCache).length)try{e.setEvaluationCache(JSON.parse(t),n)}catch(e){(0,f.uT)("dvsEvaluationCache not valid json")}},b=null,g=e=>(0,u.s)()?h(e):(b||(b=h(e)),b),m=(e,t,n)=>{let{consumerId:i,submarketId:r,language:c,isGuest:d,email:s,experience:u,defaultCountry:p,platform:h,isEmployee:f,country:b}=(0,a.x)(),{additionalContext:{teamId:m,store_id:w,business_id:v}}=o.useContext(l.Xr),C=g(u);return x(C,t,n),o.useEffect(()=>{C.evaluate({business_id:v,consumerId:i,consumer_id:i,submarketId:r,submarket_id:r,deviceId:e,device_id:e,language:c,isGuest:d,email:s,experience:u,defaultCountry:p,platform:h,teamId:m,store_id:w,isEmployee:f,is_employee:f,is_platform_web:!0,country:b})},[v,i,r,e,c,d,s,u,p,h,m,w,f]),{dvsClient:C}},w=e=>{let{children:t,dvsEvaluationCache:n,dvsHash:o,deviceId:l}=e,{dvsClient:a}=m(l,n,o);return(0,i.jsx)(r.DVSClientProvider,{client:a,children:t})},v=e=>{let{children:t,additionalDVContext:n,dvsEvaluationCache:o,dvsHash:r,deviceId:a}=e;return(0,i.jsx)(l.CJ,{additionalDVContext:n,children:(0,i.jsx)(w,{dvsEvaluationCache:o,dvsHash:r,deviceId:a,children:t})})}}}]);